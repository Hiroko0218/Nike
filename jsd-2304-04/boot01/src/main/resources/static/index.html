<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div>
    <h1>工程首頁</h1>
    <h2>歡迎{{user.nickname}}回來!</h2>
    <a href="javascript:void (0)"@click="logout()">登出</a>
    <a href="/post.html">發微博</a>
    <!--相對路徑:相對於當前頁面所處位置-->
    <a href="bmi.html">BMI測試</a>
    <!--絕對路徑:/代表的是工程根路徑(http://localhost:8080/)-->
    <a href="/bmiAsync.html">BMI測試(異步)</a>
    <hr>
    <a href="/reg.html">註冊</a>
    <a href="/login.html">登入</a>
    <hr>
    <a href="/list.html">微博列表</a>
</div>
<script src="https://cdn.staticfile.org/vue/2.2.2/vue.min.js"></script>
<!--引入axios框架文件-->
<script src="https://cdn.bootcss.com/axios/0.18.0/axios.min.js"></script>

<script>
    let v = new Vue({
        el:"body>div",
        data:{
           user:localStorage.user?JSON.parse(localStorage.user):null
        },
        methods:{
            logout(){
                if(confirm("您確認要登出嗎?")){
                    axios.get("/logout").then(function (){
                        //清空localStorage裡面的數據
                        localStorage.clear();
                        location.href="/login.html";
                        }
                    )
                }
            }
        }
    })
</script>
</body>
</html>